% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/solarOption.R
\name{solarOption_model}
\alias{solarOption_model}
\title{Compute the price of a \code{solarOptionPortfolio}}
\usage{
solarOption_model(
  model,
  moments,
  portfolio,
  nmonths = 1:12,
  theta = 0,
  implvol = 1,
  put = TRUE,
  control_options = control_solarOption()
)
}
\arguments{
\item{model}{An object with the class \code{solarModel}. See the function \code{\link{solarModel}} for details.}

\item{moments}{description}

\item{portfolio}{A list of objects of the class \code{solarOptionPortfolio}.}

\item{nmonths}{Numeric vector. Months in which the payoff should be computed. Can vary from 1 (January) to 12 (December).}

\item{put}{Logical. When \code{TRUE}, the default, will be computed the price for a \code{put} contract, otherwise for a \code{call} contract.}

\item{control_options}{Named list. Control parameters, see \code{\link{control_solarOption}} for more details.}
}
\description{
Compute the price of a \code{solarOptionPortfolio}
}
\examples{
# Model
model <- Bologna$clone(TRUE)
# Pricing without portfolio
moments <- model$moments$unconditional
# Premium
premium_Vt <- solarOption_model(model, moments, theta = 0.0, put = TRUE)
# Pricing date
t_now <- as.Date("2021-12-31")
# Inception date
t_init <- as.Date("2022-01-01")
# Maturity date
t_hor <- as.Date("2022-12-31")
# SoRad portfolio
portfolio <- SoRadPorfolio(model, t_now, t_init, t_hor)
# Moments
moments <- purrr::map_df(portfolio, ~model$Moments(t_now, .x$t_hor))
# Premium
premium_Vt <- solarOption_model(model, moments, portfolio, theta = 0.0, put = TRUE)
premium_Vt$payoff_year$premium
}
